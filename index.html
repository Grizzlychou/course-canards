<!DOCTYPE html>
<html lang="fr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Course des Canards - Grizzlies Dodgeball Club</title>
<link href="https://fonts.googleapis.com/css2?family=Fredoka+One&family=Roboto:wght@400;700&display=swap" rel="stylesheet">
<style>
  body {
    margin: 0; font-family: 'Roboto', sans-serif;
    background: #fff8d6; color: #333;
  }
  header {
    background: #ffe600; text-align: center;
    padding: 20px; color: #000; font-family: 'Fredoka One', cursive;
  }
  header h1 {
    font-size: 3em; margin: 0;
  }
  header p {
    margin: 5px 0 0; font-size: 1.2em;
  }
  .hero {
    background: linear-gradient(#a6e1fa, #7cd1c0);
    text-align: center; padding: 40px 20px;
  }
  .hero img {
    max-width: 300px;
  }
  .hero h2 {
    font-family: 'Fredoka One', cursive;
    font-size: 2.5em; margin: 20px 0 10px;
    color: #000;
  }
  .hero p {
    font-size: 1.2em; color: #000;
  }
  .reserve-button {
    display: inline-block;
    background: #ffe600; color: #000;
    font-size: 1.2em; padding: 15px 30px;
    text-decoration: none; border-radius: 50px;
    margin-top: 20px; font-weight: bold;
  }
  .reserve-button:hover {
    background: #ffd700;
  }
  .info {
    max-width: 800px; margin: 40px auto; text-align: center;
    background: white; padding: 20px; border-radius: 8px;
  }
  .info h3 {
    font-family: 'Fredoka One', cursive;
    font-size: 2em;
  }
  footer {
    text-align: center; font-size: 0.9em;
    color: #666; margin: 40px 0 20px;
  }
</style>
</head>
<body>

<header style="background: #ffe600; text-align: center; padding: 20px; color: #000; font-family: 'Fredoka One', cursive;">
  <h1 style="font-size: 2.5em; margin: 0;">Le Grizzlies Dodgeball Club de Jodoigne</h1>
  <div style="margin: 15px 0;">
    <img src="img/logo-grizzlies.png" alt="Logo Grizzlies" style="height: 100px;">
  </div>
  <p style="font-size: 1.5em; margin: 0;">organise</p>
</header>

<div class="hero">
  <img src="img/affiche-courses.jpg" alt="Course des Canards" style="width: 100%; display: block; margin: 0; padding: 0;">
  <h2>La course la plus fun de l'ann√©e‚ÄØ!</h2>
  <p>2‚Ç¨/mise ‚Äî nombreux prix pour le podium ‚Äî Entr√©e libre‚ÄØ!</p>
  <a href="#reserve" class="reserve-button" id="reserve-button">üê• R√©server mon canard</a>
</div>



<div class="info">
  <h3>Comment participer‚ÄØ?</h3>
  <p>Rendez-vous √† la Stampia, Jodoigne le 24/08 √† 15h.<br>
     Vous pouvez d√©j√† r√©server votre canard en ligne et choisir vos num√©ros le jour J‚ÄØ!</p>
</div>

<footer>
  &copy; 2025 Grizzlies Dodgeball Club ‚Äî Site propuls√© par GitHub Pages
</footer>
<!-- Fen√™tre modale -->
<div id="duckModal">
  <div class="modal-content">
    <span class="close" id="closeModal">&times;</span>
    <h3>Choisissez vos canards (2¬†‚Ç¨ chacun)</h3>
    <div class="duck-grid" id="duckGrid">
      <img src="img/320-canards-jaunes.png" alt="320 canards">
      <!-- Les zones cliquables seront ajout√©es en JavaScript -->
    </div>
    <div id="selection">
      Canards s√©lectionn√©s¬†: <span id="selectedNumbers">aucun</span><br>
      Total¬†: <span id="totalCost">0¬†‚Ç¨</span>
    </div>
    <button id="commander" style="margin-top:15px;padding:10px 20px;font-size:1.2em;">Commander</button>
  </div>
</div>
<style>
  /* Styles de la modale et de la grille */
  #duckModal { display: none; position: fixed; z-index: 1000; left:0; top:0; width:100%; height:100%; overflow-y:auto; background: rgba(0,0,0,0.8); }
  #duckModal .modal-content { background:#fff8d6; margin:5% auto; padding:20px; border-radius:8px; max-width:900px; position:relative; }
  #duckModal .close { position:absolute; top:10px; right:20px; font-size:1.8em; cursor:pointer; }

  .duck-grid { position: relative; width: 100%; height: auto; }
  .duck-grid img { width: 100%; display: block; }
  .duck { position: absolute; cursor: pointer; }
  .duck.reserved { background-color: rgba(255,0,0,0.4); pointer-events:none; }
  .duck.selected { background-color: rgba(255,255,0,0.4); }
  #selection { margin-top: 15px; font-size: 1.1em; }
  #selection span { font-weight: bold; }
</style>

<script>
  // Remplacez les num√©ros ci-dessous par ceux d√©j√† r√©serv√©s
  const reservedNumbers = [/* exemple : 12, 45, 78 */];
  const rows = 17;    // nombre de lignes
  const cols = 19;    // nombre de colonnes
  const removed = [321, 322, 323]; // canards retir√©s

  const reserveBtn   = document.getElementById('reserve-button');
  const modal        = document.getElementById('duckModal');
  const closeModal   = document.getElementById('closeModal');
  const duckGrid     = document.getElementById('duckGrid');
  const selectedSpan = document.getElementById('selectedNumbers');
  const totalSpan    = document.getElementById('totalCost');
  const commanderBtn = document.getElementById('commander');

  let selected = [];

  // Ouvrir la modale
  reserveBtn.addEventListener('click', function(e) {
    e.preventDefault();
    modal.style.display = 'block';
    // G√©n√©rer la grille au premier affichage
    if (!duckGrid.dataset.generated) {
      generateGrid();
      duckGrid.dataset.generated = 'true';
    }
  });

  // Fermer la modale
  closeModal.addEventListener('click', () => modal.style.display = 'none');
  window.addEventListener('click', (e) => { if (e.target == modal) modal.style.display = 'none'; });

  function generateGrid() {
    // Ajuster la hauteur de la grille en fonction de l'image
    const gridWidth  = duckGrid.offsetWidth;
    const gridHeight = gridWidth * (rows / cols);
    duckGrid.style.height = gridHeight + 'px';
    for (let i = 1; i <= rows * cols; i++) {
      if (removed.includes(i)) continue; // ignorer les positions retir√©es
      const div = document.createElement('div');
      div.classList.add('duck');
      const row = Math.floor((i - 1) / cols);
      const col = (i - 1) % cols;
      const wPercent = 100 / cols;
      const hPercent = 100 / rows;
      div.style.width  = wPercent + '%';
      div.style.height = hPercent + '%';
      div.style.left   = (col * wPercent) + '%';
      div.style.top    = (row * hPercent) + '%';

      if (reservedNumbers.includes(i)) {
        div.classList.add('reserved');
      } else {
        div.addEventListener('click', function() {
          toggleSelection(i, div);
        });
      }
      duckGrid.appendChild(div);
    }
  }

  function toggleSelection(num, el) {
    const idx = selected.indexOf(num);
    if (idx > -1) {
      selected.splice(idx, 1);
      el.classList.remove('selected');
    } else {
      selected.push(num);
      el.classList.add('selected');
    }
    updateSummary();
  }

  function updateSummary() {
    if (selected.length === 0) {
      selectedSpan.textContent = 'aucun';
    } else {
      selectedSpan.textContent = selected.slice().sort((a,b) => a-b).join(', ');
    }
    totalSpan.textContent = (selected.length * 2) + '¬†‚Ç¨';
  }

  commanderBtn.addEventListener('click', () => {
    if (selected.length === 0) {
      alert('Vous n\\'avez s√©lectionn√© aucun canard.');
    } else {
      alert('Canards s√©lectionn√©s : ' + selected.join(', ') + '\\nTotal : ' + (selected.length * 2) + '‚Ç¨\\n(Int√©grez ici votre logique de commande ou de paiement.)');
    }
  });
</script>

</body>
</html>
